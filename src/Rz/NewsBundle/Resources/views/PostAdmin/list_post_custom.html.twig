{% extends 'SonataAdminBundle:CRUD:base_list_field.html.twig' %}

{% block field %}
<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-2 text-center">
            {% if object.image and admin.isGranted('VIEW', object.image) %}
                {% if admin.isGranted('EDIT', object) and admin.hasRoute('edit') %}
                    <a href="{{ admin.generateUrl('edit', {'id' : object|sonata_urlsafeid }) }}">{% thumbnail object.image, 'admin' with {'width': 150} %}</a>
                {% else %}
                    {% thumbnail object.image, 'admin' with {'width': 150} %}
                {% endif %}
            {% else %}
	            <a href="{{ admin.generateUrl('edit', {'id' : object|sonata_urlsafeid }) }}"><img style="width: 150px" src="{{ asset('bundles/rznews/images/placeholder_600x400.svg') }}"/></a>
            {% endif %}
    </div>
    <div class="col-xs-12 col-sm-12 col-md-10">
        {% if admin.isGranted('EDIT', object) and admin.hasRoute('edit') %}
            <a href="{{ admin.generateUrl('edit', {'id' : object|sonata_urlsafeid }) }}"><strong>{{ object.title }}</strong></a>
        {% else %}
            <strong>{{ object.title }}</strong>
        {% endif %}

        {% if object.author %}
            ~ <span class="badge bg-light-blue">{{ object.author.username }}</span>
        {% endif %}
        <br />

        {{ object.abstract|truncate(150) }}

        <br />
        {% if object.collection %}
            {{ object.collection.name }}
        {% endif %}

        {% if object.collection and object.tags|length > 0 %}
            ~
        {% endif %}

        {% for tag in object.tags %}
            {{ tag.name }}{% if not loop.last %}, {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}
